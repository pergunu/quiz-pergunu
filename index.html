<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Perguru - Sistem Ujian Profesional</title>
    <link rel="icon" href="assets/images/logo-perguru.png" type="image/png">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #4361ee;
            --secondary-color: #3f37c9;
            --accent-color: #f72585;
            --success-color: #4cc9f0;
            --warning-color: #f8961e;
            --danger-color: #ef233c;
            --light-color: #f8f9fa;
            --dark-color: #212529;
            --text-color: #2b2d42;
            --light-text: #8d99ae;
            --border-radius: 12px;
            --box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }
        
        body {
            background-color: #f8f9fa;
            color: var(--text-color);
            line-height: 1.6;
            position: relative;
            min-height: 100vh;
        }
        
        /* Header Styles */
        .header {
            background: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
            text-decoration: none;
        }
        
        .logo-img {
            height: 50px;
            width: auto;
            transition: var(--transition);
        }
        
        .logo-text {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary-color);
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* Main Content Styles */
        .main-content {
            padding: 40px 0;
            padding-bottom: 100px;
        }
        
        /* Participant Form Styles */
        .participant-form {
            background: white;
            padding: 40px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin: 0 auto;
            max-width: 800px;
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .form-title {
            font-size: 28px;
            margin-bottom: 30px;
            color: var(--primary-color);
            text-align: center;
            position: relative;
            padding-bottom: 15px;
        }
        
        .form-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            border-radius: 2px;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 10px;
            font-weight: 500;
            color: var(--text-color);
        }
        
        .form-control {
            width: 100%;
            padding: 15px 20px;
            border: 1px solid #e9ecef;
            border-radius: var(--border-radius);
            font-size: 16px;
            transition: var(--transition);
            background-color: #f8f9fa;
        }
        
        .form-control:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
            background-color: white;
        }
        
        .form-select {
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 20px center;
            background-size: 1em;
        }
        
        /* Quiz Styles */
        .quiz-container {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 40px;
            margin: 0 auto;
            max-width: 900px;
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }
        
        .quiz-title {
            font-size: 24px;
            font-weight: 600;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .quiz-title i {
            color: var(--secondary-color);
        }
        
        .quiz-info {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .quiz-info-item {
            background: #e9ecef;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .quiz-info-item i {
            font-size: 12px;
        }
        
        .question-container {
            margin-bottom: 30px;
        }
        
        .question-category {
            display: inline-block;
            background: #e9ecef;
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 14px;
            margin-bottom: 15px;
            color: var(--light-text);
            font-weight: 500;
        }
        
        .question-text {
            font-size: 18px;
            margin-bottom: 25px;
            font-weight: 500;
            line-height: 1.7;
        }
        
        .options-container {
            margin-bottom: 30px;
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
        }
        
        .option {
            display: flex;
            align-items: center;
            padding: 18px 20px;
            background: var(--light-color);
            border: 1px solid #e9ecef;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
        }
        
        .option:hover {
            background: #e9ecef;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .option.selected {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
            box-shadow: 0 5px 15px rgba(67, 97, 238, 0.2);
        }
        
        .option-prefix {
            font-weight: 600;
            margin-right: 15px;
            width: 20px;
        }
        
        .explanation {
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: var(--border-radius);
            display: none;
            border-left: 4px solid var(--primary-color);
            animation: fadeIn 0.5s ease;
        }
        
        .explanation-title {
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .explanation-title i {
            font-size: 18px;
        }
        
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: var(--border-radius);
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .btn i {
            font-size: 14px;
        }
        
        .btn-reset {
            background: #e9ecef;
            color: var(--light-text);
        }
        
        .btn-reset:hover {
            background: #dee2e6;
            transform: translateY(-2px);
        }
        
        .btn-next {
            background: var(--primary-color);
            color: white;
        }
        
        .btn-next:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(67, 97, 238, 0.3);
        }
        
        .btn-start {
            background: var(--primary-color);
            color: white;
            width: 100%;
            margin-top: 20px;
            justify-content: center;
        }
        
        .btn-start:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(67, 97, 238, 0.3);
        }
        
        /* Results Styles */
        .results-container {
            background: white;
            padding: 40px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin: 0 auto;
            max-width: 800px;
            display: none;
            text-align: center;
            animation: fadeIn 0.5s ease;
        }
        
        .results-title {
            font-size: 28px;
            margin-bottom: 20px;
            color: var(--primary-color);
            position: relative;
            padding-bottom: 15px;
        }
        
        .results-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            border-radius: 2px;
        }
        
        .score {
            font-size: 72px;
            font-weight: 700;
            color: var(--primary-color);
            margin: 30px 0;
            position: relative;
            display: inline-block;
        }
        
        .score::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 100%;
            height: 10px;
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            border-radius: 5px;
            opacity: 0.2;
        }
        
        .results-message {
            font-size: 18px;
            margin-bottom: 30px;
            padding: 0 20px;
        }
        
        .results-details {
            margin-top: 40px;
            text-align: left;
            background: #f8f9fa;
            padding: 25px;
            border-radius: var(--border-radius);
        }
        
        .results-details h3 {
            margin-bottom: 15px;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .results-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .stat-item {
            background: white;
            padding: 20px;
            border-radius: var(--border-radius);
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .stat-value {
            font-size: 36px;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 14px;
            color: var(--light-text);
        }
        
        /* Admin Panel Styles */
        .admin-panel {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }
        
        .admin-btn {
            background: var(--accent-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(247, 37, 133, 0.3);
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        
        .admin-btn img {
            width: 30px;
            height: 30px;
            object-fit: contain;
        }
        
        .admin-btn:hover {
            transform: scale(1.1) rotate(10deg);
            box-shadow: 0 8px 25px rgba(247, 37, 133, 0.4);
        }
        
        .admin-btn::after {
            content: 'Admin';
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 12px;
            font-weight: 600;
            color: var(--accent-color);
            opacity: 0;
            transition: var(--transition);
        }
        
        .admin-btn:hover::after {
            opacity: 1;
            bottom: -20px;
        }
        
        .admin-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1001;
            display: none;
            backdrop-filter: blur(5px);
        }
        
        .admin-login {
            background: white;
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1002;
            display: none;
            width: 90%;
            max-width: 400px;
            animation: fadeIn 0.3s ease;
        }
        
        .admin-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: var(--light-text);
            transition: var(--transition);
        }
        
        .admin-close:hover {
            color: var(--danger-color);
            transform: rotate(90deg);
        }
        
        .admin-container {
            background: white;
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1002;
            width: 90%;
            max-width: 1000px;
            max-height: 90vh;
            overflow-y: auto;
            display: none;
            animation: fadeIn 0.3s ease;
        }
        
        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .admin-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--accent-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .admin-actions {
            display: flex;
            gap: 10px;
        }
        
        .question-list {
            margin-bottom: 40px;
        }
        
        .question-item {
            padding: 20px;
            border: 1px solid #eee;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
            position: relative;
            background: #f8f9fa;
            transition: var(--transition);
        }
        
        .question-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .question-item-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .question-item-title {
            font-weight: 600;
            margin-bottom: 10px;
            flex: 1;
        }
        
        .question-item-meta {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            font-size: 14px;
            color: var(--light-text);
        }
        
        .question-item-meta span {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .question-item-meta i {
            font-size: 12px;
        }
        
        .question-actions {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            gap: 10px;
        }
        
        .action-btn {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 16px;
            color: var(--light-text);
            transition: var(--transition);
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .action-btn:hover {
            color: white;
            background: var(--primary-color);
            transform: scale(1.1);
        }
        
        .action-btn.delete-btn:hover {
            background: var(--danger-color);
        }
        
        .edit-form {
            display: none;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #eee;
            animation: fadeIn 0.3s ease;
        }
        
        .form-actions {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 20px;
        }
        
        .btn-cancel {
            background: var(--light-color);
            color: var(--light-text);
        }
        
        .btn-cancel:hover {
            background: #e9ecef;
        }
        
        .btn-save {
            background: var(--success-color);
            color: white;
        }
        
        .btn-save:hover {
            background: #38b6db;
        }
        
        .password-form {
            margin-top: 30px;
            padding-top: 30px;
            border-top: 1px solid #eee;
        }
        
        /* Footer Styles */
        .footer {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: white;
            padding: 20px 0;
            text-align: center;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            z-index: 99;
        }
        
        .footer-content {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
        }
        
        .footer-text {
            font-size: 14px;
            color: var(--light-text);
        }
        
        /* Responsive Styles */
        @media (max-width: 992px) {
            .quiz-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            
            .quiz-info {
                width: 100%;
            }
            
            .results-stats {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .participant-form,
            .quiz-container,
            .results-container {
                padding: 25px;
            }
            
            .admin-container {
                padding: 20px;
            }
            
            .question-item-header {
                flex-direction: column;
            }
            
            .question-actions {
                position: static;
                margin-top: 15px;
                justify-content: flex-end;
            }
        }
        
        @media (max-width: 576px) {
            .logo-text {
                font-size: 20px;
            }
            
            .form-title,
            .results-title {
                font-size: 24px;
            }
            
            .score {
                font-size: 60px;
            }
            
            .navigation-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
            
            .admin-btn {
                width: 50px;
                height: 50px;
                font-size: 20px;
            }
        }
        
        /* Animation for correct answer */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .correct-answer {
            animation: pulse 0.5s ease;
        }
        
        /* Animation for applause */
        @keyframes confetti {
            0% { transform: translateY(0) rotate(0); opacity: 1; }
            100% { transform: translateY(-100vh) rotate(720deg); opacity: 0; }
        }
        
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: var(--accent-color);
            top: 100%;
            left: 50%;
            z-index: 1000;
            animation: confetti 3s ease-out forwards;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <a href="#" class="logo" id="homeBtn">
                    <img src="assets/images/logo-perguru.png" alt="Perguru Logo" class="logo-img">
                    <span class="logo-text">Quiz Perguru</span>
                </a>
                <div id="participantNameDisplay"></div>
            </div>
        </div>
    </header>
    
    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Participant Form -->
            <form id="participantForm" class="participant-form">
                <h2 class="form-title">Form Peserta Quiz</h2>
                <div class="form-group">
                    <label for="name" class="form-label"><i class="fas fa-user"></i> Nama Lengkap</label>
                    <input type="text" id="name" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="email" class="form-label"><i class="fas fa-envelope"></i> Email</label>
                    <input type="email" id="email" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="institution" class="form-label"><i class="fas fa-school"></i> Institusi/Sekolah</label>
                    <input type="text" id="institution" class="form-control">
                </div>
                <div class="form-group">
                    <label for="category" class="form-label"><i class="fas fa-tags"></i> Kategori Quiz</label>
                    <select id="category" class="form-control form-select" required>
                        <option value="">Pilih Kategori</option>
                        <option value="umum">Umum</option>
                        <option value="matematika">Matematika</option>
                        <option value="sains">Sains</option>
                        <option value="sejarah">Sejarah</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="level" class="form-label"><i class="fas fa-signal"></i> Tingkat Kesulitan</label>
                    <select id="level" class="form-control form-select" required>
                        <option value="">Pilih Tingkat</option>
                        <option value="mudah">Mudah</option>
                        <option value="sedang">Sedang</option>
                        <option value="sulit">Sulit</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-start"><i class="fas fa-play"></i> Mulai Quiz</button>
            </form>
            
            <!-- Quiz Container -->
            <div id="quizContainer" class="quiz-container">
                <div class="quiz-header">
                    <h1 class="quiz-title"><i class="fas fa-question-circle"></i> Quiz Perguru</h1>
                    <div class="quiz-info">
                        <div class="quiz-info-item"><i class="fas fa-tag"></i> <span id="quizCategory">Kategori: Umum</span></div>
                        <div class="quiz-info-item"><i class="fas fa-signal"></i> <span id="quizLevel">Level: Sedang</span></div>
                        <div class="quiz-info-item"><i class="fas fa-clock"></i> <span id="quizTimer">10:00</span></div>
                    </div>
                </div>
                
                <div class="question-container">
                    <span class="question-category" id="questionNumber">Pertanyaan 1 dari 5</span>
                    <p class="question-text" id="questionText">Memuat pertanyaan...</p>
                </div>
                
                <div class="options-container" id="optionsContainer">
                    <!-- Options will be loaded here -->
                </div>
                
                <div class="explanation" id="explanation">
                    <div class="explanation-title"><i class="fas fa-lightbulb"></i> Penjelasan Jawaban:</div>
                    <p id="explanationText">Memuat penjelasan...</p>
                </div>
                
                <div class="navigation-buttons">
                    <button class="btn btn-reset" id="resetBtn"><i class="fas fa-redo"></i> Reset Quiz</button>
                    <button class="btn btn-next" id="nextBtn"><i class="fas fa-arrow-right"></i> Selanjutnya</button>
                </div>
            </div>
            
            <!-- Results Container -->
            <div id="resultsContainer" class="results-container">
                <h2 class="results-title">Hasil Quiz</h2>
                <div class="score" id="scoreDisplay">0%</div>
                <p class="results-message" id="resultsMessage">Memuat hasil...</p>
                
                <div class="results-details">
                    <h3><i class="fas fa-chart-bar"></i> Statistik Hasil</h3>
                    <div class="results-stats">
                        <div class="stat-item">
                            <div class="stat-value" id="totalQuestions">0</div>
                            <div class="stat-label">Total Pertanyaan</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="correctAnswers">0</div>
                            <div class="stat-label">Jawaban Benar</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="wrongAnswers">0</div>
                            <div class="stat-label">Jawaban Salah</div>
                        </div>
                    </div>
                    
                    <h3 style="margin-top: 30px;"><i class="fas fa-clock"></i> Waktu Penyelesaian</h3>
                    <p id="completionTime">-</p>
                </div>
                
                <button class="btn btn-start" id="restartBtn" style="margin-top: 30px;"><i class="fas fa-redo"></i> Ulangi Quiz</button>
            </div>
        </div>
    </main>
    
    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <p class="footer-text">&copy; 2023 Quiz Perguru. All rights reserved.</p>
            </div>
        </div>
    </footer>
    
    <!-- Admin Panel Button -->
    <div class="admin-panel">
        <button class="admin-btn" id="adminBtn">
            <img src="assets/images/logo-setting-panel.png" alt="Admin Panel">
        </button>
    </div>
    
    <!-- Admin Overlay -->
    <div class="admin-overlay" id="adminOverlay"></div>
    
    <!-- Admin Login Form -->
    <div class="admin-login" id="adminLogin">
        <button class="admin-close" id="adminClose">&times;</button>
        <h2 class="admin-title"><i class="fas fa-lock"></i> Admin Login</h2>
        <div class="form-group">
            <label for="adminPassword" class="form-label">Password Admin</label>
            <input type="password" id="adminPassword" class="form-control" placeholder="Masukkan password admin">
        </div>
        <button class="btn btn-start" id="adminLoginBtn"><i class="fas fa-sign-in-alt"></i> Login</button>
    </div>
    
    <!-- Admin Panel -->
    <div class="admin-container" id="adminPanel">
        <div class="admin-header">
            <h2 class="admin-title"><i class="fas fa-cog"></i> Panel Admin - Kelola Soal</h2>
            <div class="admin-actions">
                <button class="btn btn-reset" id="backToQuizBtn"><i class="fas fa-arrow-left"></i> Kembali</button>
            </div>
        </div>
        
        <div class="form-group">
            <label for="adminCategory" class="form-label">Filter Kategori</label>
            <select id="adminCategory" class="form-control form-select">
                <option value="">Semua Kategori</option>
                <option value="umum">Umum</option>
                <option value="matematika">Matematika</option>
                <option value="sains">Sains</option>
                <option value="sejarah">Sejarah</option>
            </select>
        </div>
        
        <div class="question-list" id="questionList">
            <!-- Questions will be loaded here -->
        </div>
        
        <h3 class="admin-title"><i class="fas fa-plus-circle"></i> Tambah Soal Baru</h3>
        <form id="addQuestionForm">
            <div class="form-group">
                <label for="newCategory" class="form-label">Kategori</label>
                <select id="newCategory" class="form-control form-select" required>
                    <option value="">Pilih Kategori</option>
                    <option value="umum">Umum</option>
                    <option value="matematika">Matematika</option>
                    <option value="sains">Sains</option>
                    <option value="sejarah">Sejarah</option>
                </select>
            </div>
            <div class="form-group">
                <label for="newLevel" class="form-label">Tingkat Kesulitan</label>
                <select id="newLevel" class="form-control form-select" required>
                    <option value="">Pilih Tingkat</option>
                    <option value="mudah">Mudah</option>
                    <option value="sedang">Sedang</option>
                    <option value="sulit">Sulit</option>
                </select>
            </div>
            <div class="form-group">
                <label for="newQuestion" class="form-label">Pertanyaan</label>
                <textarea id="newQuestion" class="form-control" rows="3" required></textarea>
            </div>
            <div class="form-group">
                <label class="form-label">Pilihan Jawaban</label>
                <div class="option-input-group">
                    <div class="input-group mb-2">
                        <span class="input-group-text">A</span>
                        <input type="text" id="optionA" class="form-control" placeholder="Pilihan A" required>
                    </div>
                    <div class="input-group mb-2">
                        <span class="input-group-text">B</span>
                        <input type="text" id="optionB" class="form-control" placeholder="Pilihan B" required>
                    </div>
                    <div class="input-group mb-2">
                        <span class="input-group-text">C</span>
                        <input type="text" id="optionC" class="form-control" placeholder="Pilihan C" required>
                    </div>
                    <div class="input-group mb-2">
                        <span class="input-group-text">D</span>
                        <input type="text" id="optionD" class="form-control" placeholder="Pilihan D" required>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="correctAnswer" class="form-label">Jawaban Benar</label>
                <select id="correctAnswer" class="form-control form-select" required>
                    <option value="">Pilih Jawaban Benar</option>
                    <option value="A">A</option>
                    <option value="B">B</option>
                    <option value="C">C</option>
                    <option value="D">D</option>
                </select>
            </div>
            <div class="form-group">
                <label for="explanation" class="form-label">Penjelasan Jawaban</label>
                <textarea id="newExplanation" class="form-control" rows="3" required></textarea>
            </div>
            <div class="form-actions">
                <button type="button" class="btn btn-cancel" id="cancelAddQuestion"><i class="fas fa-times"></i> Batal</button>
                <button type="submit" class="btn btn-save"><i class="fas fa-save"></i> Simpan Soal</button>
            </div>
        </form>
        
        <!-- Change Password Form -->
        <div class="password-form">
            <h3 class="admin-title"><i class="fas fa-key"></i> Ganti Password Admin</h3>
            <form id="changePasswordForm">
                <div class="form-group">
                    <label for="currentPassword" class="form-label">Password Lama</label>
                    <input type="password" id="currentPassword" class="form-control" placeholder="Masukkan password lama" required>
                </div>
                <div class="form-group">
                    <label for="newPassword" class="form-label">Password Baru</label>
                    <input type="password" id="newPassword" class="form-control" placeholder="Masukkan password baru" required>
                </div>
                <div class="form-group">
                    <label for="confirmPassword" class="form-label">Konfirmasi Password Baru</label>
                    <input type="password" id="confirmPassword" class="form-control" placeholder="Konfirmasi password baru" required>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn-save"><i class="fas fa-sync-alt"></i> Ganti Password</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Audio for applause -->
    <audio id="applauseSound" src="assets/audio/applause.mp3" preload="auto"></audio>
    
    <script>
        // Sample questions data
        let questions = [
            {
                id: 1,
                category: "umum",
                level: "sedang",
                question: "Apa ibukota Indonesia?",
                options: {
                    A: "Jakarta",
                    B: "Bandung",
                    C: "Surabaya",
                    D: "Medan"
                },
                correctAnswer: "A",
                explanation: "Jakarta adalah ibukota Indonesia sejak tahun 1945. Kota ini terletak di pulau Jawa dan merupakan pusat pemerintahan, bisnis, dan keuangan negara."
            },
            {
                id: 2,
                category: "umum",
                level: "mudah",
                question: "Berapa jumlah provinsi di Indonesia saat ini?",
                options: {
                    A: "34",
                    B: "32",
                    C: "36",
                    D: "38"
                },
                correctAnswer: "A",
                explanation: "Indonesia saat ini memiliki 34 provinsi. Provinsi termuda adalah Kalimantan Utara yang dibentuk pada tahun 2012."
            },
            {
                id: 3,
                category: "sains",
                level: "sedang",
                question: "Planet terdekat dengan matahari adalah?",
                options: {
                    A: "Venus",
                    B: "Bumi",
                    C: "Mars",
                    D: "Merkurius"
                },
                correctAnswer: "D",
                explanation: "Merkurius adalah planet terdekat dengan matahari dalam tata surya kita. Planet ini mengorbit matahari setiap 88 hari Bumi."
            }
        ];
        
        // Admin password
        let adminPassword = "65614222";
        
        // DOM Elements
        const participantForm = document.getElementById('participantForm');
        const quizContainer = document.getElementById('quizContainer');
        const resultsContainer = document.getElementById('resultsContainer');
        const participantNameDisplay = document.getElementById('participantNameDisplay');
        const quizCategory = document.getElementById('quizCategory');
        const quizLevel = document.getElementById('quizLevel');
        const quizTimer = document.getElementById('quizTimer');
        const questionNumber = document.getElementById('questionNumber');
        const questionText = document.getElementById('questionText');
        const optionsContainer = document.getElementById('optionsContainer');
        const explanation = document.getElementById('explanation');
        const explanationText = document.getElementById('explanationText');
        const nextBtn = document.getElementById('nextBtn');
        const resetBtn = document.getElementById('resetBtn');
        const scoreDisplay = document.getElementById('scoreDisplay');
        const resultsMessage = document.getElementById('resultsMessage');
        const totalQuestionsDisplay = document.getElementById('totalQuestions');
        const correctAnswersDisplay = document.getElementById('correctAnswers');
        const wrongAnswersDisplay = document.getElementById('wrongAnswers');
        const completionTimeDisplay = document.getElementById('completionTime');
        const restartBtn = document.getElementById('restartBtn');
        const homeBtn = document.getElementById('homeBtn');
        
        // Admin Elements
        const adminBtn = document.getElementById('adminBtn');
        const adminOverlay = document.getElementById('adminOverlay');
        const adminLogin = document.getElementById('adminLogin');
        const adminClose = document.getElementById('adminClose');
        const adminLoginBtn = document.getElementById('adminLoginBtn');
        const adminPanel = document.getElementById('adminPanel');
        const adminPasswordInput = document.getElementById('adminPassword');
        const questionList = document.getElementById('questionList');
        const addQuestionForm = document.getElementById('addQuestionForm');
        const adminCategoryFilter = document.getElementById('adminCategory');
        const backToQuizBtn = document.getElementById('backToQuizBtn');
        const cancelAddQuestionBtn = document.getElementById('cancelAddQuestion');
        const changePasswordForm = document.getElementById('changePasswordForm');
        const currentPasswordInput = document.getElementById('currentPassword');
        const newPasswordInput = document.getElementById('newPassword');
        const confirmPasswordInput = document.getElementById('confirmPassword');
        
        // Audio Elements
        const applauseSound = document.getElementById('applauseSound');
        
        // Quiz Variables
        let currentQuestionIndex = 0;
        let selectedOption = null;
        let participantData = {};
        let userAnswers = [];
        let timerInterval;
        let timeLeft = 600; // 10 minutes in seconds
        let quizStartTime;
        let filteredQuestions = [];
        
        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            // Load questions
            renderQuestionsList();
            
            // Participant form submission
            participantForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Get participant data
                participantData = {
                    name: document.getElementById('name').value,
                    email: document.getElementById('email').value,
                    institution: document.getElementById('institution').value,
                    category: document.getElementById('category').value,
                    level: document.getElementById('level').value
                };
                
                // Filter questions by selected category and level
                filteredQuestions = questions.filter(q => 
                    q.category === participantData.category && 
                    q.level === participantData.level
                );
                
                if (filteredQuestions.length === 0) {
                    alert('Tidak ada soal yang tersedia untuk kategori dan level yang dipilih.');
                    return;
                }
                
                // Update quiz info
                participantNameDisplay.textContent = participantData.name;
                quizCategory.textContent = `Kategori: ${getCategoryName(participantData.category)}`;
                quizLevel.textContent = `Level: ${getLevelName(participantData.level)}`;
                
                // Reset quiz variables
                currentQuestionIndex = 0;
                selectedOption = null;
                userAnswers = [];
                timeLeft = 600;
                quizStartTime = new Date();
                updateTimerDisplay();
                startTimer();
                
                // Hide form and show quiz
                participantForm.style.display = 'none';
                quizContainer.style.display = 'block';
                resultsContainer.style.display = 'none';
                
                // Load first question
                loadQuestion(currentQuestionIndex);
            });
            
            // Option selection
            optionsContainer.addEventListener('click', function(e) {
                const option = e.target.closest('.option');
                if (!option) return;
                
                // Remove selected class from all options
                document.querySelectorAll('.option').forEach(opt => {
                    opt.classList.remove('selected');
                });
                
                // Add selected class to clicked option
                option.classList.add('selected');
                selectedOption = option.getAttribute('data-option');
                
                // Store user answer
                const currentQuestion = filteredQuestions[currentQuestionIndex];
                const isCorrect = selectedOption === currentQuestion.correctAnswer;
                
                userAnswers[currentQuestionIndex] = {
                    questionId: currentQuestion.id,
                    selectedAnswer: selectedOption,
                    isCorrect: isCorrect
                };
                
                // Highlight correct answer
                if (isCorrect) {
                    option.classList.add('correct-answer');
                }
                
                // Show explanation
                explanation.style.display = 'block';
            });
            
            // Next button
            nextBtn.addEventListener('click', function() {
                if (!selectedOption && userAnswers[currentQuestionIndex] === undefined) {
                    alert('Silakan pilih jawaban terlebih dahulu');
                    return;
                }
                
                // Move to next question or finish quiz
                currentQuestionIndex++;
                if (currentQuestionIndex < filteredQuestions.length) {
                    loadQuestion(currentQuestionIndex);
                    explanation.style.display = 'none';
                    selectedOption = null;
                } else {
                    finishQuiz();
                }
            });
            
            // Reset button
            resetBtn.addEventListener('click', function() {
                if (confirm('Apakah Anda yakin ingin mereset quiz?')) {
                    resetQuiz();
                }
            });
            
            // Restart button
            restartBtn.addEventListener('click', function() {
                resetQuiz();
            });
            
            // Home button
            homeBtn.addEventListener('click', function(e) {
                e.preventDefault();
                resetQuiz();
            });
            
            // Admin button
            adminBtn.addEventListener('click', function() {
                adminOverlay.style.display = 'block';
                adminLogin.style.display = 'block';
            });
            
            // Admin overlay
            adminOverlay.addEventListener('click', function() {
                closeAdminPanels();
            });
            
            // Admin close button
            adminClose.addEventListener('click', function() {
                closeAdminPanels();
            });
            
            // Admin login
            adminLoginBtn.addEventListener('click', function() {
                if (adminPasswordInput.value === adminPassword) {
                    adminLogin.style.display = 'none';
                    adminPanel.style.display = 'block';
                    adminPasswordInput.value = '';
                    renderQuestionsList();
                } else {
                    alert('Password salah!');
                }
            });
            
            // Back to quiz button
            backToQuizBtn.addEventListener('click', function() {
                closeAdminPanels();
            });
            
            // Cancel add question
            cancelAddQuestionBtn.addEventListener('click', function() {
                addQuestionForm.reset();
            });
            
            // Filter questions by category
            adminCategoryFilter.addEventListener('change', function() {
                renderQuestionsList(this.value);
            });
            
            // Add new question
            addQuestionForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const newQuestion = {
                    id: questions.length > 0 ? Math.max(...questions.map(q => q.id)) + 1 : 1,
                    category: document.getElementById('newCategory').value,
                    level: document.getElementById('newLevel').value,
                    question: document.getElementById('newQuestion').value,
                    options: {
                        A: document.getElementById('optionA').value,
                        B: document.getElementById('optionB').value,
                        C: document.getElementById('optionC').value,
                        D: document.getElementById('optionD').value
                    },
                    correctAnswer: document.getElementById('correctAnswer').value,
                    explanation: document.getElementById('newExplanation').value
                };
                
                questions.push(newQuestion);
                renderQuestionsList(adminCategoryFilter.value);
                addQuestionForm.reset();
                alert('Soal berhasil ditambahkan!');
            });
            
            // Change password
            changePasswordForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const currentPassword = currentPasswordInput.value;
                const newPassword = newPasswordInput.value;
                const confirmPassword = confirmPasswordInput.value;
                
                if (currentPassword !== adminPassword) {
                    alert('Password lama salah!');
                    return;
                }
                
                if (newPassword !== confirmPassword) {
                    alert('Password baru dan konfirmasi password tidak cocok!');
                    return;
                }
                
                if (newPassword.length < 8) {
                    alert('Password baru harus minimal 8 karakter!');
                    return;
                }
                
                adminPassword = newPassword;
                alert('Password berhasil diubah!');
                changePasswordForm.reset();
            });
        });
        
        // Close all admin panels
        function closeAdminPanels() {
            adminOverlay.style.display = 'none';
            adminLogin.style.display = 'none';
            adminPanel.style.display = 'none';
            adminPasswordInput.value = '';
        }
        
        // Load question
        function loadQuestion(index) {
            const q = filteredQuestions[index];
            questionNumber.textContent = `Pertanyaan ${index + 1} dari ${filteredQuestions.length}`;
            questionText.textContent = q.question;
            
            // Update options
            optionsContainer.innerHTML = '';
            for (const [key, value] of Object.entries(q.options)) {
                const option = document.createElement('div');
                option.className = 'option';
                option.setAttribute('data-option', key);
                
                const prefix = document.createElement('div');
                prefix.className = 'option-prefix';
                prefix.textContent = `${key}.`;
                
                const text = document.createElement('div');
                text.className = 'option-text';
                text.textContent = value;
                
                option.appendChild(prefix);
                option.appendChild(text);
                optionsContainer.appendChild(option);
                
                // Check if this option was previously selected
                if (userAnswers[index] && userAnswers[index].selectedAnswer === key) {
                    option.classList.add('selected');
                    selectedOption = key;
                    
                    // Highlight correct answer
                    if (userAnswers[index].isCorrect) {
                        option.classList.add('correct-answer');
                    }
                }
            }
            
            // Update explanation
            explanationText.textContent = q.explanation;
            
            // Show explanation if user already answered this question
            if (userAnswers[index]) {
                explanation.style.display = 'block';
            } else {
                explanation.style.display = 'none';
            }
            
            // Update next button text if last question
            if (index === filteredQuestions.length - 1) {
                nextBtn.innerHTML = '<i class="fas fa-check"></i> Selesai';
            } else {
                nextBtn.innerHTML = '<i class="fas fa-arrow-right"></i> Selanjutnya';
            }
        }
        
        // Finish quiz
        function finishQuiz() {
            clearInterval(timerInterval);
            
            const correctAnswers = userAnswers.filter(a => a.isCorrect).length;
            const totalQuestions = filteredQuestions.length;
            const score = Math.round((correctAnswers / totalQuestions) * 100);
            const endTime = new Date();
            const timeDiff = (endTime - quizStartTime) / 1000; // in seconds
            const minutes = Math.floor(timeDiff / 60);
            const seconds = Math.floor(timeDiff % 60);
            
            // Display results
            scoreDisplay.textContent = `${score}%`;
            totalQuestionsDisplay.textContent = totalQuestions;
            correctAnswersDisplay.textContent = correctAnswers;
            wrongAnswersDisplay.textContent = totalQuestions - correctAnswers;
            completionTimeDisplay.textContent = `${minutes} menit ${seconds} detik`;
            
            if (score >= 80) {
                resultsMessage.textContent = "Selamat! Anda mendapatkan nilai yang sangat baik!";
            } else if (score >= 60) {
                resultsMessage.textContent = "Bagus! Anda mendapatkan nilai yang baik.";
                // Play applause sound for scores 60% and above
                playApplause();
            } else if (score >= 40) {
                resultsMessage.textContent = "Cukup baik. Anda bisa belajar lebih giat lagi.";
            } else {
                resultsMessage.textContent = "Anda perlu belajar lebih giat lagi.";
            }
            
            // Hide quiz and show results
            quizContainer.style.display = 'none';
            resultsContainer.style.display = 'block';
        }
        
        // Play applause sound
        function playApplause() {
            // Try to play the sound
            const promise = applauseSound.play();
            
            // Handle promise error
            if (promise !== undefined) {
                promise.catch(error => {
                    console.log("Autoplay prevented:", error);
                    // Show a button to allow playing the sound
                    const playButton = document.createElement('button');
                    playButton.textContent = "Putar Suara Applause";
                    playButton.className = "btn btn-start";
                    playButton.style.marginTop = "15px";
                    playButton.onclick = function() {
                        applauseSound.play();
                        this.remove();
                    };
                    resultsContainer.appendChild(playButton);
                });
            }
            
            // Create confetti effect
            createConfetti();
        }
        
        // Create confetti effect
        function createConfetti() {
            const colors = ['#f72585', '#7209b7', '#3a0ca3', '#4361ee', '#4cc9f0'];
            
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.width = Math.random() * 10 + 5 + 'px';
                confetti.style.height = Math.random() * 10 + 5 + 'px';
                confetti.style.animationDuration = Math.random() * 3 + 2 + 's';
                confetti.style.animationDelay = Math.random() * 2 + 's';
                document.body.appendChild(confetti);
                
                // Remove confetti after animation
                setTimeout(() => {
                    confetti.remove();
                }, 5000);
            }
        }
        
        // Reset quiz
        function resetQuiz() {
            clearInterval(timerInterval);
            currentQuestionIndex = 0;
            selectedOption = null;
            userAnswers = [];
            
            participantForm.style.display = 'block';
            quizContainer.style.display = 'none';
            resultsContainer.style.display = 'none';
            
            participantForm.reset();
            participantNameDisplay.textContent = '';
            
            // Remove all confetti
            document.querySelectorAll('.confetti').forEach(el => el.remove());
        }
        
        // Start timer
        function startTimer() {
            clearInterval(timerInterval);
            timerInterval = setInterval(function() {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    finishQuiz();
                }
            }, 1000);
        }
        
        // Update timer display
        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            quizTimer.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            // Change color when time is running out
            if (timeLeft <= 60) {
                quizTimer.parentElement.style.backgroundColor = '#fff3bf';
                quizTimer.parentElement.style.color = '#e67700';
            } else {
                quizTimer.parentElement.style.backgroundColor = '';
                quizTimer.parentElement.style.color = '';
            }
        }
        
        // Render questions list for admin
        function renderQuestionsList(filterCategory = '') {
            questionList.innerHTML = '';
            
            const filteredQuestions = filterCategory 
                ? questions.filter(q => q.category === filterCategory)
                : questions;
            
            if (filteredQuestions.length === 0) {
                questionList.innerHTML = '<div class="question-item"><p>Tidak ada soal yang ditemukan.</p></div>';
                return;
            }
            
            filteredQuestions.forEach(q => {
                const questionItem = document.createElement('div');
                questionItem.className = 'question-item';
                
                questionItem.innerHTML = `
                    <div class="question-item-header">
                        <div class="question-item-title">${q.question}</div>
                        <div class="question-actions">
                            <button class="action-btn edit-btn" data-id="${q.id}" title="Edit"><i class="fas fa-edit"></i></button>
                            <button class="action-btn delete-btn" data-id="${q.id}" title="Hapus"><i class="fas fa-trash"></i></button>
                        </div>
                    </div>
                    <div class="question-item-meta">
                        <span><i class="fas fa-tag"></i> ${getCategoryName(q.category)}</span>
                        <span><i class="fas fa-signal"></i> ${getLevelName(q.level)}</span>
                        <span><i class="fas fa-check-circle"></i> Jawaban benar: ${q.correctAnswer}</span>
                    </div>
                    <div class="edit-form" id="editForm-${q.id}">
                        <!-- Edit form will be inserted here -->
                    </div>
                `;
                
                questionList.appendChild(questionItem);
            });
            
            // Add event listeners for edit and delete buttons
            document.querySelectorAll('.edit-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const id = parseInt(this.getAttribute('data-id'));
                    showEditForm(id);
                });
            });
            
            document.querySelectorAll('.delete-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const id = parseInt(this.getAttribute('data-id'));
                    if (confirm('Apakah Anda yakin ingin menghapus soal ini?')) {
                        deleteQuestion(id);
                    }
                });
            });
        }
        
        // Show edit form
        function showEditForm(id) {
            const question = questions.find(q => q.id === id);
            if (!question) return;
            
            const editForm = document.getElementById(`editForm-${id}`);
            
            if (editForm.style.display === 'block') {
                editForm.style.display = 'none';
                return;
            }
            
            // Hide all other edit forms
            document.querySelectorAll('.edit-form').forEach(form => {
                form.style.display = 'none';
            });
            
            editForm.innerHTML = `
                <div class="form-group">
                    <label for="editCategory-${id}" class="form-label">Kategori</label>
                    <select id="editCategory-${id}" class="form-control form-select">
                        <option value="umum" ${question.category === 'umum' ? 'selected' : ''}>Umum</option>
                        <option value="matematika" ${question.category === 'matematika' ? 'selected' : ''}>Matematika</option>
                        <option value="sains" ${question.category === 'sains' ? 'selected' : ''}>Sains</option>
                        <option value="sejarah" ${question.category === 'sejarah' ? 'selected' : ''}>Sejarah</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="editLevel-${id}" class="form-label">Tingkat Kesulitan</label>
                    <select id="editLevel-${id}" class="form-control form-select">
                        <option value="mudah" ${question.level === 'mudah' ? 'selected' : ''}>Mudah</option>
                        <option value="sedang" ${question.level === 'sedang' ? 'selected' : ''}>Sedang</option>
                        <option value="sulit" ${question.level === 'sulit' ? 'selected' : ''}>Sulit</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="editQuestion-${id}" class="form-label">Pertanyaan</label>
                    <textarea id="editQuestion-${id}" class="form-control" rows="3">${question.question}</textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">Pilihan Jawaban</label>
                    <div class="option-input-group">
                        <div class="input-group mb-2">
                            <span class="input-group-text">A</span>
                            <input type="text" id="editOptionA-${id}" class="form-control" value="${question.options.A}" required>
                        </div>
                        <div class="input-group mb-2">
                            <span class="input-group-text">B</span>
                            <input type="text" id="editOptionB-${id}" class="form-control" value="${question.options.B}" required>
                        </div>
                        <div class="input-group mb-2">
                            <span class="input-group-text">C</span>
                            <input type="text" id="editOptionC-${id}" class="form-control" value="${question.options.C}" required>
                        </div>
                        <div class="input-group mb-2">
                            <span class="input-group-text">D</span>
                            <input type="text" id="editOptionD-${id}" class="form-control" value="${question.options.D}" required>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="editCorrectAnswer-${id}" class="form-label">Jawaban Benar</label>
                    <select id="editCorrectAnswer-${id}" class="form-control form-select" required>
                        <option value="A" ${question.correctAnswer === 'A' ? 'selected' : ''}>A</option>
                        <option value="B" ${question.correctAnswer === 'B' ? 'selected' : ''}>B</option>
                        <option value="C" ${question.correctAnswer === 'C' ? 'selected' : ''}>C</option>
                        <option value="D" ${question.correctAnswer === 'D' ? 'selected' : ''}>D</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="editExplanation-${id}" class="form-label">Penjelasan Jawaban</label>
                    <textarea id="editExplanation-${id}" class="form-control" rows="3">${question.explanation}</textarea>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-cancel cancel-edit-btn" data-id="${id}"><i class="fas fa-times"></i> Batal</button>
                    <button type="button" class="btn btn-save save-edit-btn" data-id="${id}"><i class="fas fa-save"></i> Simpan</button>
                </div>
            `;
            
            editForm.style.display = 'block';
            
            // Add event listener for save button
            document.querySelector(`.save-edit-btn[data-id="${id}"]`).addEventListener('click', function() {
                saveQuestionChanges(id);
            });
            
            // Add event listener for cancel button
            document.querySelector(`.cancel-edit-btn[data-id="${id}"]`).addEventListener('click', function() {
                editForm.style.display = 'none';
            });
        }
        
        // Save question changes
        function saveQuestionChanges(id) {
            const question = questions.find(q => q.id === id);
            if (!question) return;
            
            question.category = document.getElementById(`editCategory-${id}`).value;
            question.level = document.getElementById(`editLevel-${id}`).value;
            question.question = document.getElementById(`editQuestion-${id}`).value;
            question.options = {
                A: document.getElementById(`editOptionA-${id}`).value,
                B: document.getElementById(`editOptionB-${id}`).value,
                C: document.getElementById(`editOptionC-${id}`).value,
                D: document.getElementById(`editOptionD-${id}`).value
            };
            question.correctAnswer = document.getElementById(`editCorrectAnswer-${id}`).value;
            question.explanation = document.getElementById(`editExplanation-${id}`).value;
            
            alert('Perubahan berhasil disimpan!');
            renderQuestionsList(adminCategoryFilter.value);
        }
        
        // Delete question
        function deleteQuestion(id) {
            const index = questions.findIndex(q => q.id === id);
            if (index !== -1) {
                questions.splice(index, 1);
                renderQuestionsList(adminCategoryFilter.value);
                alert('Soal berhasil dihapus!');
            }
        }
        
        // Helper functions
        function getCategoryName(category) {
            const categories = {
                'umum': 'Umum',
                'matematika': 'Matematika',
                'sains': 'Sains',
                'sejarah': 'Sejarah'
            };
            return categories[category] || category;
        }
        
        function getLevelName(level) {
            const levels = {
                'mudah': 'Mudah',
                'sedang': 'Sedang',
                'sulit': 'Sulit'
            };
            return levels[level] || level;
        }
    </script>
</body>
</html>
